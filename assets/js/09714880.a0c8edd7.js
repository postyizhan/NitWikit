"use strict";(self.webpackChunkWiki=self.webpackChunkWiki||[]).push([["7177"],{3223:function(e,r,s){s.r(r),s.d(r,{metadata:()=>i,contentTitle:()=>o,default:()=>d,assets:()=>p,toc:()=>l,frontMatter:()=>a});var i=JSON.parse('{"id":"process/maintenance/optimize/performance-analysis","title":"\u6027\u80FD\u5206\u6790","description":"\u6027\u80FD\u5206\u6790\u662F\u4E00\u5207\\"\u4F18\u5316\\"\u7684\u4F9D\u636E\u3002\u5982\u679C\u4F60\u4E0D\u77E5\u9053\u670D\u52A1\u5668\u5BFC\u81F4\u5361\u987F\u7684\u5143\u51F6\uFF0C\u90A3\u4E48\u5C06\u6BEB\u65E0\u610F\u4E49\u3002","source":"@site/docs-java/process/maintenance/optimize/performance-analysis.md","sourceDirName":"process/maintenance/optimize","slug":"/process/maintenance/optimize/performance-analysis","permalink":"/Java/process/maintenance/optimize/performance-analysis","draft":false,"unlisted":false,"editUrl":"https://github.com/postyizhan/NitWikit/tree/main/docs-java/process/maintenance/optimize/performance-analysis.md","tags":[],"version":"current","lastUpdatedBy":"\u9A7F\u7AD9","lastUpdatedAt":1727693356000,"sidebarPosition":5,"frontMatter":{"title":"\u6027\u80FD\u5206\u6790","sidebar_position":5},"sidebar":"tutorialSidebar","previous":{"title":"\u50A8\u5B58\u7A7A\u95F4\u4F18\u5316","permalink":"/Java/process/maintenance/optimize/storage-space-optimization"},"next":{"title":"\u4F18\u5316\u8BEF\u533A","permalink":"/Java/process/maintenance/optimize/optimized-plugin"}}'),n=s("52676"),t=s("79938");let a={title:"\u6027\u80FD\u5206\u6790",sidebar_position:5},o="\u6027\u80FD\u5206\u6790",p={},l=[{value:"Spark",id:"spark",level:2},{value:"\u4F7F\u7528\u65B9\u6CD5",id:"\u4F7F\u7528\u65B9\u6CD5",level:3},{value:"/spark profiler",id:"spark-profiler",level:4},{value:"/spark health",id:"spark-health",level:4},{value:"/spark tps",id:"spark-tps",level:4},{value:"Timings",id:"timings",level:2},{value:"\u5176\u4ED6\u8F6F\u4EF6\u5206\u6790",id:"\u5176\u4ED6\u8F6F\u4EF6\u5206\u6790",level:2},{value:"arthas",id:"arthas",level:3},{value:"jprofiler",id:"jprofiler",level:3}];function c(e){let r={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",p:"p",strong:"strong",...(0,t.a)(),...e.components},{Details:s}=r;return!s&&function(e,r){throw Error("Expected "+(r?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.header,{children:(0,n.jsx)(r.h1,{id:"\u6027\u80FD\u5206\u6790",children:"\u6027\u80FD\u5206\u6790"})}),"\n",(0,n.jsx)(r.p,{children:'\u6027\u80FD\u5206\u6790\u662F\u4E00\u5207"\u4F18\u5316"\u7684\u4F9D\u636E\u3002\u5982\u679C\u4F60\u4E0D\u77E5\u9053\u670D\u52A1\u5668\u5BFC\u81F4\u5361\u987F\u7684\u5143\u51F6\uFF0C\u90A3\u4E48\u5C06\u6BEB\u65E0\u610F\u4E49\u3002'}),"\n",(0,n.jsx)(r.h2,{id:"spark",children:"Spark"}),"\n",(0,n.jsx)(r.p,{children:"Spark\u662F\u4E00\u4E2AMinecraft\u7684\u6027\u80FD\u5206\u6790\u5668\uFF0C\u652F\u6301\u5E7F\u6CDB(\u5982 Bukkit\uFF0CBungeeCord\uFF0CVelocity\uFF0CForge\uFF0CFabric \u7B49)\u3002"}),"\n",(0,n.jsxs)(r.admonition,{type:"info",children:[(0,n.jsxs)(r.p,{children:[(0,n.jsx)(r.code,{children:"\u5B98\u7F51"})," :",(0,n.jsx)(r.a,{href:"https://spark.lucko.me",children:"https://spark.lucko.me"})]}),(0,n.jsxs)(r.p,{children:[(0,n.jsx)(r.code,{children:"\u5B98\u7F51\u4E0B\u8F7D"})," :",(0,n.jsx)(r.a,{href:"https://spark.lucko.me/download",children:"https://spark.lucko.me/download"})]}),(0,n.jsxs)(s,{children:[(0,n.jsx)("summary",{children:"\u5176\u4ED6\u76F8\u5173\u94FE\u63A5"}),(0,n.jsxs)(r.p,{children:[(0,n.jsx)(r.code,{children:"\u6587\u6863(\u82F1\u6587)"})," :",(0,n.jsx)(r.a,{href:"https://spark.lucko.me/docs",children:"https://spark.lucko.me/docs"})]}),(0,n.jsxs)(r.p,{children:[(0,n.jsx)(r.code,{children:"\u6587\u6863(\u4E2D\u6587)"})," :",(0,n.jsx)(r.a,{href:"https://snowcutieowo.github.io/spark",children:"https://snowcutieowo.github.io/spark"})]}),(0,n.jsxs)(r.p,{children:[(0,n.jsx)(r.code,{children:"SpigotMC"})," :",(0,n.jsx)(r.a,{href:"https://www.spigotmc.org/resources/spark.57242/",children:"https://www.spigotmc.org/resources/spark.57242/"})]}),(0,n.jsxs)(r.p,{children:[(0,n.jsx)(r.code,{children:"Modrinth"})," :",(0,n.jsx)(r.a,{href:"https://modrinth.com/mod/spark",children:"https://modrinth.com/mod/spark"})]}),(0,n.jsxs)(r.p,{children:[(0,n.jsx)(r.code,{children:"GitHub"})," :",(0,n.jsx)(r.a,{href:"https://github.com/lucko/spark",children:"https://github.com/lucko/spark"})]}),(0,n.jsxs)(r.p,{children:[(0,n.jsx)(r.code,{children:"MC\u767E\u79D1"})," :",(0,n.jsx)(r.a,{href:"https://www.mcmod.cn/class/4073.html",children:"https://www.mcmod.cn/class/4073.html"})]})]})]}),"\n",(0,n.jsx)(r.h3,{id:"\u4F7F\u7528\u65B9\u6CD5",children:"\u4F7F\u7528\u65B9\u6CD5"}),"\n",(0,n.jsx)(r.p,{children:"\u63D2\u4EF6\u670D\u548C 1.13 \u4EE5\u4E0A\u7684 mod \u670D\u8BF7\u4E0B\u8F7D\u63D2\u4EF6\u7248\u672C\u5E76\u5C06 Spark.jar \u6587\u4EF6\u63D2\u4EF6\u653E\u5230\u670D\u52A1\u7AEF\u7684 plugins \u6587\u4EF6\u5939\u4E2D\u3002"}),"\n",(0,n.jsx)(r.p,{children:"1.12.2 \u548C\u4EE5\u4E0B\u6DF7\u5408\u670D\u4F18\u5148\u4F7F\u7528 mod \u7248\u672C\uFF0C\u653E\u5165 mods \u6587\u4EF6\u5939\u3002"}),"\n",(0,n.jsx)(r.p,{children:"\u5BF9\u4E8E Purpur Fork \u670D\u52A1\u5668\u6216 Paper 1.21+\uFF0C\u9ED8\u8BA4\u81EA\u5E26 Spark\uFF0C\u65E0\u9700\u5355\u72EC\u4E0B\u8F7D\u3002"}),"\n",(0,n.jsx)(r.h4,{id:"spark-profiler",children:"/spark profiler"}),"\n",(0,n.jsx)(r.p,{children:"\u5982\u679C\u5206\u6790\u5668\u5DF2\u7ECF\u542F\u52A8\uFF0C\u4F60\u53EF\u4EE5\u8F93\u5165\u4E0B\u9762\u8FD9\u4E9B\u547D\u4EE4\uFF1A"}),"\n",(0,n.jsx)(r.p,{children:"/spark profiler open \u6253\u5F00\u5206\u6790\u62A5\u544A\u9875\u800C\u65E0\u9700\u505C\u6B62\uFF1B"}),"\n",(0,n.jsx)(r.p,{children:"/spark profiler stop \u505C\u6B62\u5206\u6790\u5E76\u6D4F\u89C8\u5206\u6790\u7ED3\u679C\uFF1B"}),"\n",(0,n.jsx)(r.p,{children:"/spark profiler cancel \u53D6\u6D88\u5206\u6790\u64CD\u4F5C\uFF0C\u5E76\u53D6\u6D88\u4E0A\u4F20\u62A5\u544A\u3002"}),"\n",(0,n.jsx)(r.p,{children:"\u5728\u5176\u4ED6\u60C5\u51B5\u4E0B\uFF0C\u4F60\u53EF\u4EE5\u4F7F\u7528\u8FD9\u4E9B\u57FA\u672C\u7684\u64CD\u4F5C\u547D\u4EE4\uFF1A"}),"\n",(0,n.jsx)(r.p,{children:"/spark profiler start \u5728\u9ED8\u8BA4\u64CD\u4F5C\u6A21\u5F0F\u4E0B\u5F00\u59CB\u5206\u6790\uFF1B"}),"\n",(0,n.jsx)(r.p,{children:"/spark profiler info \u68C0\u67E5\u5F53\u524D\u5206\u6790\u7684\u72B6\u6001\u3002"}),"\n",(0,n.jsxs)(r.p,{children:["\u8FD9\u662F\u4E3B\u8981\u7684\u6307\u4EE4\uFF0C\u4E3A\u4E86\u66F4\u591A\u7684\u529F\u80FD\uFF0C\u66F4\u7CBE\u51C6\u7684\u5206\u6790\u7B49\u53EF\u4EE5\u5728\u540E\u9762\u52A0\u4E0A\u53C2\u6570.\u5177\u4F53\u8BF7\u67E5\u770B ",(0,n.jsx)(r.a,{href:"https://snowcutieowo.github.io/spark/#/spark.command-usage",children:"profiler \u6307\u4EE4\u4F7F\u7528\u65B9\u6CD5"})]}),"\n",(0,n.jsx)(r.admonition,{type:"tip",children:(0,n.jsxs)(r.p,{children:["Spark \u4E2D\u5185\u5B58\u5360\u7528\u5E76\u975E\u5E73\u5747\u5185\u5B58\u5360\u7528\uFF0C\u800C\u662F",(0,n.jsx)(r.strong,{children:"\u77AC\u95F4\u5185\u5B58\u5360\u7528"}),"\uFF0C\u6240\u4EE5\u6709\u4E9B\u65F6\u5019\u4F1A\u51FA\u73B0 Spark \u4E0A\u663E\u793A\u5185\u5B58\u5360\u7528\u5C0F\u5B9E\u9645\u5F88\u5927\u7684\u60C5\u51B5"]})}),"\n",(0,n.jsx)(r.h4,{id:"spark-health",children:"/spark health"}),"\n",(0,n.jsx)(r.p,{children:"\u5B50\u547D\u4EE4 health \u4F1A\u4EA7\u751F\u4E00\u4EFD\u670D\u52A1\u5668\u7684\u5065\u5EB7\u62A5\u544A\uFF0C\u5176\u4E2D\u5305\u542B TPS\u3001CPU\u3001\u5185\u5B58\u548C\u786C\u76D8\u7684\u4F7F\u7528\u60C5\u51B5\u3002"}),"\n",(0,n.jsx)(r.h4,{id:"spark-tps",children:"/spark tps"}),"\n",(0,n.jsxs)(r.p,{children:["Spark \u9ED8\u8BA4\u4F1A\u66FF\u4EE3\u670D\u52A1\u5668\u7684 TPS \u8F93\u51FA(\u4F46\u53EF\u80FD\u88AB CMI \u7B49\u63D2\u4EF6\u8986\u76D6\uFF0C\u8BF7\u5173\u95EDCMI\u7684/tps\u6307\u4EE4\u6216\u8005\u8F93\u5165\u5B8C\u6574 ",(0,n.jsx)(r.code,{children:"/spark tps"})," \u83B7\u53D6)\u3002"]}),"\n",(0,n.jsx)(r.h2,{id:"timings",children:"Timings"}),"\n",(0,n.jsx)(r.p,{children:"Timings\u662F\u4E00\u4E2A Paper \u81EA\u5E26\u7684\u6027\u80FD\u5206\u6790\u5668\uFF0C\u7531\u4E8E\u5176\u76D1\u542C\u6BCF\u4E00\u4E2A\u4E8B\u4EF6\uFF0C\u6027\u80FD\u5F00\u9500\u6BD4\u8F83\u5927\uFF0C"}),"\n",(0,n.jsxs)(r.p,{children:["\u5728\u5F88\u591A\u670D\u52A1\u5668\u6838\u5FC3(\u5982 Purpur \u7B49)\u672C\u8EAB\u4E5F\u662F\u88AB\u79FB\u9664\u7684\uFF0C",(0,n.jsx)(r.strong,{children:"\u4E0D\u63A8\u8350"}),"\u3002"]}),"\n",(0,n.jsxs)(r.admonition,{type:"warning",children:[(0,n.jsx)(r.p,{children:"\u5728\u53EF\u9884\u89C1\u7684\u672A\u6765Timings\u5C06\u4F1A\u88AB\u79FB\u9664\uFF0C\u4F5C\u4E3A\u65B0\u624B\u53EF\u4EE5\u76F4\u63A5\u8DF3\u8FC7\u3002\u5982\u679C\u4F60\u4F7F\u7528Paper\u670D\u52A1\u5668\uFF0C\u8BF7\u7981\u7528Timings\uFF01\u867D\u7136\u5B83\u662F\u4E00\u4E2A\u5F88\u597D\u7684\u8BCA\u65AD\u5DE5\u5177\uFF0C"}),(0,n.jsxs)(r.p,{children:["\u4F46\u7531\u4E8E\u5176\u4E0D\u65AD\u4E0D\u65AD\u542F\u52A8\u548C\u505C\u6B62\u865A\u62DF\u201C\u79D2\u8868\u201D\uFF0C\u4F1A\u5BF9\u6027\u80FD\u4EA7\u751F\u975E\u5E38\u5927\u7684\u5F71\u54CD\u3002\u56E0\u6B64\u65E0\u8BBA\u670D\u52A1\u5668\u89C4\u6A21\u5927\u5C0F\u53EA\u9700\u7981\u7528\u8BA1\u65F6\u5373\u53EF\u5B9E\u73B0 ",(0,n.jsx)(r.em,{children:"10-30%"})," \u7684\u6027\u80FD\u63D0\u5347\u3002"]}),(0,n.jsxs)(r.p,{children:["\u53EF\u4EE5\u901A\u8FC7\u5728 ",(0,n.jsx)(r.code,{children:"/config/paper-global.yml"})," \u4E2D ",(0,n.jsx)(r.code,{children:"timings.enabled"})," \u8BBE\u4E3A ",(0,n.jsx)(r.code,{children:"false"})," \u7981\u7528\u3002"]})]}),"\n",(0,n.jsx)(r.h2,{id:"\u5176\u4ED6\u8F6F\u4EF6\u5206\u6790",children:"\u5176\u4ED6\u8F6F\u4EF6\u5206\u6790"}),"\n",(0,n.jsx)(r.admonition,{type:"warning",children:(0,n.jsxs)(r.p,{children:["\u8FD9\u90E8\u5206\u9700\u8981\u4E00\u4E9B\u57FA\u7840\u77E5\u8BC6\uFF0C\u4E00\u822C Spark \u5206\u6790\u4E0D\u51FA\u6765\u624D\u4F1A\u5C1D\u8BD5\u5176\u4ED6\u8F6F\u4EF6\u3002",(0,n.jsx)(r.em,{children:"\u4E00\u822C\u670D\u4E3B\u4E0D\u5FC5\u8981\u5B66\u4E60\u8FD9\u90E8\u5206\u5185\u5BB9"}),"\u3002"]})}),"\n",(0,n.jsx)(r.h3,{id:"arthas",children:"arthas"}),"\n",(0,n.jsx)(r.p,{children:"Arthas \u662F\u4E00\u6B3E\u963F\u91CC\u5DF4\u5DF4\u5F00\u53D1\u7684\u5728\u7EBF\u6027\u80FD\u5206\u6790\u8F6F\u4EF6\uFF0C\u53EF\u5B9E\u65F6\u67E5\u770B\u5E94\u7528 JVM /\u5185\u5B58/ GC /\u7EBF\u7A0B \u7684\u72B6\u6001\u4FE1\u606F\uFF0C\u751A\u81F3\u5305\u62EC\u67E5\u770B\u65B9\u6CD5\u8C03\u7528\u7684\u51FA\u5165\u53C2\u3001\u5F02\u5E38\uFF0C\u76D1\u6D4B\u65B9\u6CD5\u6267\u884C\u8017\u65F6\u7B49\uFF0C\u4E00\u822C\u7528\u4E8E\u6392\u67E5\u67D0\u4E9B\u63D2\u4EF6\u7684CPU\u5360\u7528\u60C5\u51B5\u548C\u63D2\u4EF6\u7EBF\u7A0B\u5360\u7528\u5206\u6790\u3002"}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.a,{href:"https://arthas.aliyun.com/doc/",children:"\u5B98\u65B9\u6587\u6863\u94FE\u63A5"})}),"\n",(0,n.jsx)(r.h3,{id:"jprofiler",children:"jprofiler"}),"\n",(0,n.jsx)(r.p,{children:"jprofiler \u662F\u4E00\u6B3E\u4ED8\u8D39\u7684\u6613\u7528\u7684\u6027\u80FD\u5206\u6790\u8F6F\u4EF6\uFF0C\u751A\u81F3\u53EF\u4EE5\u5BF9 MySQL \uFF0C\u5185\u5B58\u6CC4\u6F0F\u8FDB\u884C\u5206\u6790\uFF0C\u53EF\u89C6\u5316\u5C55\u793A\u3002"}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.a,{href:"https://www.ej-technologies.com/products/jprofiler/overview.html",children:"\u5B98\u65B9\u94FE\u63A5"})})]})}function d(e={}){let{wrapper:r}={...(0,t.a)(),...e.components};return r?(0,n.jsx)(r,{...e,children:(0,n.jsx)(c,{...e})}):c(e)}},79938:function(e,r,s){s.d(r,{Z:function(){return o},a:function(){return a}});var i=s(75271);let n={},t=i.createContext(n);function a(e){let r=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function o(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:a(e.components),i.createElement(t.Provider,{value:r},e.children)}}}]);